<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Alumnos - Vue.js</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app" class="container mt-4">
        <div class="row">
            <!-- Formulario --> 
            <div class="col-md-6 mb-3">
                <form @submit.prevent="guardarAlumno">
                    <div class="card" style="background-color: #ccff90;">
                        <div class="card-header fw-bold">REGISTRO DE ALUMNOS</div>
                        <div class="card-body">
                            <div class="row mb-2">
                                <div class="col-4"><label>CÓDIGO:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.codigo" required type="text" class="form-control" placeholder="Código">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>NOMBRE:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.nombre" required type="text" class="form-control" placeholder="Nombre completo">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>DIRECCIÓN:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.direccion" required type="text" class="form-control" placeholder="Dirección">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>MUNICIPIO:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.municipio" required type="text" class="form-control" placeholder="Municipio">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>DEPARTAMENTO:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.departamento" required type="text" class="form-control" placeholder="Departamento">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>TELÉFONO:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.telefono" required type="text" class="form-control" placeholder="Teléfono">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>FECHA NAC:</label></div>
                                <div class="col-8">
                                    <input v-model="alumno.fechaNacimiento" required type="date" class="form-control">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4"><label>SEXO:</label></div>
                                <div class="col-8">
                                    <select v-model="alumno.sexo" required class="form-select">
                                        <option value="" disabled>Seleccione...</option>
                                        <option value="Masculino">Masculino</option>
                                        <option value="Femenino">Femenino</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer text-center">
                            <button type="submit" class="btn btn-primary me-2">{{ accion === 'nuevo' ? 'GUARDAR' : 'ACTUALIZAR' }}</button>
                            <button type="button" @click="resetForm" class="btn btn-warning">NUEVO</button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Tabla -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <input v-model="busqueda" type="search" class="form-control" placeholder="Buscar alumno por código o nombre...">
                    </div>
                    <div class="card-body p-0 table-responsive">
                        <table class="table table-striped table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>CÓDIGO</th>
                                    <th>NOMBRE</th>
                                    <th>MUN. / DEP.</th>
                                    <th>TELÉFONO</th>
                                    <th>ACCIONES</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in alumnosFiltrados" :key="item.id" @click="seleccionarAlumno(item)" style="cursor: pointer;">
                                    <td>{{ item.codigo }}</td>
                                    <td>{{ item.nombre }}</td>
                                    <td>{{ item.municipio }} / {{ item.departamento }}</td>
                                    <td>{{ item.telefono }}</td>
                                    <td>
                                        <button @click.stop="eliminarAlumno(item.id)" class="btn btn-sm btn-danger">DEL</button>
                                    </td>
                                </tr>
                                <tr v-if="alumnosFiltrados.length === 0">
                                    <td colspan="5" class="text-center">No hay alumnos registrados.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
</body>